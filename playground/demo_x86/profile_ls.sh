#!/bin/bash

bash -c 'LD_LIBRARY_PATH=/lib:/usr/lib:. LD_PRELOAD=../../src/libelfperf/libelfperf.so:/tools/lib/libdl.so.2 ELFPERF_ENABLE=true \
ELFPERF_PROFILE_FUNCTION=\
:__assert_fail\
:__ctype_b_loc\
:__ctype_get_mb_cur_max\
:__ctype_tolower_loc\
:__ctype_toupper_loc\
:__cxa_atexit\
:__errno_location\
:__fpending\
:__fxstat64\
:__libc_start_main\
:__lxstat64\
:__overflow\
:__strtoull_internal\
:__xstat64\
:_exit\
:_obstack_begin\
:_obstack_newchunk\
:_setjmp\
:abort\
:acl_extended_file\
:acl_get_entry\
:acl_get_tag_type\
:bindtextdomain\
:calloc\
:clock_gettime\
:closedir\
:dcgettext\
:dirfd\
:error\
:exit\
:fclose\
:fflush_unlocked\
:fgetfilecon\
:fnmatch\
:fprintf\
:fputs_unlocked\
:free\
:freecon\
:fwrite\
:fwrite_unlocked\
:getenv\
:getfilecon\
:getgrgid\
:getgrnam\
:getpwnam\
:getpwuid\
:gettimeofday\
:ioctl\
:isatty\
:iswcntrl\
:iswprint\
:lgetfilecon\
:localeconv\
:localtime\
:malloc\
:mbrtowc\
:mbsinit\
:mbstowcs\
:memcpy\
:memmove\
:mempcpy\
:memset\
:mktime\
:nl_langinfo\
:opendir\
:printf\
:raise\
:readdir64\
:readlink\
:realloc\
:setlocale\
:sigaction\
:sigaddset\
:sigemptyset\
:sigismember\
:signal\
:sigprocmask\
:sprintf\
:stpcpy\
:strchr\
:strcmp\
:strcoll\
:strcpy\
:strftime\
:strlen\
:strncmp\
:strncpy\
:strrchr\
:strtoul\
:tcgetpgrp\
:textdomain\
:wcstombs\
:wcwidth  /tools/lib/ld-2.11.3.so /bin/ls'

# Problems with:
#:strstr\
